{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/survey":{"get":{"tags":["survey-controller"],"operationId":"getAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SurveyDto"},"uniqueItems":true}}}}}},"post":{"tags":["survey-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSurveyDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SurveyCreatedDto"}}}}}}},"/import/text":{"post":{"tags":["import-controller"],"operationId":"text","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportTextDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ShallowTextDto"}}}}}}},"/import/reading-sessions":{"post":{"tags":["import-controller"],"operationId":"readingSession","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ImportReadingSessionDto"},"uniqueItems":true}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShallowReadingSessionDto"},"uniqueItems":true}}}}}}},"/import/reading-session":{"post":{"tags":["import-controller"],"operationId":"readingSession_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportReadingSessionDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ShallowReadingSessionDto"}}}}}}},"/auth/register":{"post":{"tags":["auth-controller"],"operationId":"signup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/annotation/{sessionId}":{"post":{"tags":["annotation-controller"],"operationId":"annotate","parameters":[{"name":"sessionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditAnnotationsDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AnnotationSessionDto"}}}}}}},"/survey/{id}":{"get":{"tags":["survey-controller"],"operationId":"get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SurveyDto"}}}}}},"delete":{"tags":["survey-controller"],"operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/reading-session":{"get":{"tags":["reading-session-controller"],"operationId":"getAllReadingSessions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShallowReadingSessionDto"},"uniqueItems":true}}}}}}},"/annotation/session":{"get":{"tags":["annotation-session-controller"],"operationId":"getSessions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShallowAnnotationSessionDto"},"uniqueItems":true}}}}}}},"/annotation/session/{id}":{"get":{"tags":["annotation-session-controller"],"operationId":"getFullAnnotationSessionDto","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AnnotationSessionDto"}}}}}}}},"components":{"schemas":{"CreateSurveyDto":{"type":"object","properties":{"users":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"readingSessionIds":{"type":"array","items":{"type":"integer","format":"int64"},"uniqueItems":true}}},"AnnotationsMetaDataDto":{"type":"object","properties":{"total":{"type":"integer","format":"int32"},"done":{"type":"integer","format":"int32"}}},"ShallowAnnotationSessionDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"annotator":{"type":"integer","format":"int64"},"annotationsMetaData":{"$ref":"#/components/schemas/AnnotationsMetaDataDto"},"readingSession":{"$ref":"#/components/schemas/ShallowReadingSessionDto"}}},"ShallowReadingSessionDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"reader":{"type":"integer","format":"int64"},"textId":{"type":"integer","format":"int64"},"textTitle":{"type":"string"}}},"SurveyCreatedDto":{"type":"object","properties":{"surveyDto":{"$ref":"#/components/schemas/SurveyDto"},"users":{"type":"object","additionalProperties":{"type":"string"}}}},"SurveyDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userIds":{"type":"array","items":{"type":"integer","format":"int64"},"uniqueItems":true},"title":{"type":"string"},"description":{"type":"string"},"annotationSessions":{"type":"array","items":{"$ref":"#/components/schemas/ShallowAnnotationSessionDto"},"uniqueItems":true}}},"ImportCharacterBoundingBoxDto":{"type":"object","properties":{"foreignId":{"type":"integer","format":"int64"},"character":{"type":"string"},"xMin":{"type":"integer","format":"int64"},"xMax":{"type":"integer","format":"int64"},"yMin":{"type":"integer","format":"int64"},"yMax":{"type":"integer","format":"int64"}}},"ImportTextDto":{"type":"object","properties":{"title":{"type":"string"},"foreignId":{"type":"integer","format":"int64"},"characterBoundingBoxes":{"type":"array","items":{"$ref":"#/components/schemas/ImportCharacterBoundingBoxDto"},"uniqueItems":true},"wordBoundingBoxes":{"type":"array","items":{"$ref":"#/components/schemas/ImportWordBoundingBoxDto"},"uniqueItems":true},"backgroundImage":{"type":"string","format":"byte"}}},"ImportWordBoundingBoxDto":{"type":"object","properties":{"foreignId":{"type":"integer","format":"int64"},"word":{"type":"string"},"xMin":{"type":"integer","format":"int64"},"xMax":{"type":"integer","format":"int64"},"yMin":{"type":"integer","format":"int64"},"yMax":{"type":"integer","format":"int64"}}},"ShallowTextDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"}}},"ImportFixationDto":{"type":"object","properties":{"foreignId":{"type":"integer","format":"int64"},"x":{"type":"integer","format":"int64"},"y":{"type":"integer","format":"int64"}}},"ImportReadingSessionDto":{"type":"object","properties":{"fixations":{"type":"array","items":{"$ref":"#/components/schemas/ImportFixationDto"},"uniqueItems":true},"readerForeignId":{"type":"integer","format":"int64"},"textForeignId":{"type":"integer","format":"int64"}}},"SignupRequest":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"token":{"type":"string"}}},"AuthRequest":{"type":"object","properties":{"id":{"type":"string"},"password":{"type":"string"}}},"EditAnnotationsDto":{"type":"object","properties":{"annotations":{"type":"object","additionalProperties":{"type":"integer","format":"int64"},"description":"Maps annotation IDs to character bounding box IDs","example":"{1: 42, 2: 43}"}}},"AnnotationDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"annotationType":{"type":"string","enum":["UNANNOTATED","MACHINE_ANNOTATED","ANNOTATED"]},"fixation":{"$ref":"#/components/schemas/FixationDto"},"characterBoundingBox":{"$ref":"#/components/schemas/CharacterBoundingBoxDto"}}},"AnnotationSessionDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"annotator":{"type":"integer","format":"int64"},"annotations":{"type":"array","items":{"$ref":"#/components/schemas/AnnotationDto"},"uniqueItems":true},"annotationsMetaData":{"$ref":"#/components/schemas/AnnotationsMetaDataDto"},"readingSession":{"$ref":"#/components/schemas/ShallowReadingSessionDto"}}},"CharacterBoundingBoxDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"character":{"type":"string"},"xMin":{"type":"integer","format":"int64"},"xMax":{"type":"integer","format":"int64"},"yMin":{"type":"integer","format":"int64"},"yMax":{"type":"integer","format":"int64"}}},"FixationDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"x":{"type":"integer","format":"int64"},"y":{"type":"integer","format":"int64"}}}}}}